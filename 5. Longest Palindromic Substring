class Solution {
public:
    string longestPalindrome(string s) {

    int coreSize, range;
    int l = 0, r = 0; 
    

    for (int i = 0; i < s.length(); i++) {
        coreSize = 0; range = 1;

        while(i + coreSize < s.length() && s[i] == s[i + coreSize]) {
            coreSize++; 
            if(r-l < coreSize) {
                l = i; 
                r = i + coreSize - 1;
            }
        }
  
        while(i - range > -1 && i + coreSize + range -1 < s.length() && s[i - range] == s[i + coreSize + range -1]) 
        {
            if(r-l < 2 * range + coreSize - 1) {
                l = i - range; 
                r = i + coreSize + range - 1;
            }
            range++;
        }

        i += coreSize-1;
    }

        return s.substr(l, r-l+1);
    }
};
